<div class="ticket-info-wrap">
    <div class="mb-3">
        <a routerLink="/tickets/ticket-list">Назад</a>
    </div>
    <div class="mb-3">
        <h4>Информация о туре</h4>
        <div class="mt-3">{{ticket?.name}}</div>
    </div>
    <div class="form">
        <h4>Личная информация</h4>
        <form [formGroup]="userForm" class="flex flex-column align-items-center gap-3">
            <div class="d-flex flex-column mt-3">
                <ng-container *ngTemplateOutlet="userFieldTitle; context: {titleValue:'Name'}"></ng-container>
                <input type="text" pInputText formControlName="firstName"/>
            </div>
            <div class="d-flex flex-column mt-3">
                <ng-container *ngTemplateOutlet="userFieldTitle; context: {titleValue:'Last name'}"></ng-container>
                <input type="text" pInputText formControlName="lastName"/>
            </div>
            <div class="d-flex flex-column mt-3">
                <label>Card number</label>
                <input type="text" pInputText formControlName="cardNumber"/>
            </div>
            <div class="d-flex flex-column mt-3">
                <label>Birth Day</label>
                <p-calendar formControlName="birthDay"
                (onSelect)="selectDate($event)"></p-calendar>
            </div>
            <div class="d-flex flex-column mt-3">
                <label>Age</label>
                <p-inputNumber [showButtons]="false" formControlName="age"></p-inputNumber>
            
            </div>
            <div class="d-flex flex-column mt-3">
                <label>Citizen</label>
                <input type="text" pInputText formControlName="citizen"/>
            </div>
            <div class="mt-3">
                <button class="btn btn-success" type="submit" [disabled]="!userForm.valid"
                (click)="initTour()">
                    Перейти к оформлению
                </button>
            </div>
        </form>
    </div>
    <div class="mt-3">
        <div>
            <h4>Похожие туры</h4>
            <input #ticketSearch 
                   [(ngModel)]="ticketSearchValue" 
                   type="text" 
                   pInputText> 
        </div>
            <p-carousel [value]="tourData">
            <ng-template let-tour pTemplate="item">
                <div class="mt-3">
                    <h5>{{tour.region.name}} - {{tour.name}}</h5>
                    <div class="ticket-img-nearest">
                        <img class="w-100 h-100" src="/assets/img/{{tour.img}}" alt="/">
                    </div>
                </div>
            </ng-template>
        </p-carousel>
    </div>
</div>

<ng-template #userFieldTitle let-value="titleValue">
    <label>ng-template local: {{value}}</label>
</ng-template>
